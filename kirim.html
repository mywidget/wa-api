<!DOCTYPE html>
<html>
	<head>
		<title>Whatsapp API by Ngekoding</title>
		<style>
			.client {
			border: 1px solid #ccc;
			padding: 20px;
			box-sizing: border-box;
			display: inline-block;
			margin: 10px;
			}
			.hide {
			display: none;
			}
		</style>
	</head>
	<body>
		
		<div id="app">
			<h1>Whatsapp API</h1>
			<p>Powered by Ngekoding</p>
			<div class="form-container">
				<label for="client-id">no hp</label><br>
				<input type="text" id="number" placeholder="Masukkan Nomor">
				<br><br>
				<label for="client-description">Deskripsi</label><br>
				<textarea rows="3" id="message" placeholder="Masukkan pesan"></textarea>
				<br><br>
				<button class="add-client-kirim">Tambah Client</button>
			</div>
			<hr>
			<div class="client-container">
				<div class="client hide">
					<h3 class="title"></h3>
					<p class="description"></p>
					<img src="" alt="QR Code" id="qrcode">
					<h3>Logs:</h3>
					<ul class="logs"></ul>
				</div>
			</div>
		</div>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		
		<script>
			$(document).ready(function() {
				
				// Ketika button tambah diklik
				$('.add-client-kirim').click(function() {
					var number = $('#number').val();
					var message = $('#message').val();
					$.ajax({
						url: "http://192.168.0.78:8000/send-message",
						type: "post",
						data: {number:number,message:message},
						<!-- dataType:"json", -->
						async:true,
						crossDomain:true,
						success: function (response) {
							console.log(response);
							// You will get response from your PHP page (what you echo or print)
						},
						error: function(jqXHR, textStatus, errorThrown) {
							console.log(textStatus, errorThrown);
						}
					});
				});
				});
				
			</script>
		</body>
	</html>	